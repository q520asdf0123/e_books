package com.tiny.hero.plat.module.channel;

import com.tiny.hero.plat.module.account.domain.vo.AuditVo;
import org.apache.ibatis.annotations.Param;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import com.tiny.hero.plat.common.domain.ResponseDTO;

import javax.annotation.Resource;

@RestController
public class AuditController {

    @Resource
    private AuditService auditService;

    @GetMapping("/plat/auditPlat")
    public ResponseDTO<Boolean> auditPlat(@Param("channel") String channel) {
        return auditService.isBanhao(channel);
    }

    @GetMapping("/plat/auditUserInfo")
    public ResponseDTO<AuditVo> auditUserInfo(@Param("userId") int userId) {
        return auditService.auditUserInfo(userId);
    }

    @GetMapping("/plat/updateRoleInfo")
    public ResponseDTO<Void> updateRoleInfo(@Param("userId") int userId, @Param("roleId") long roleId) {
        return auditService.updateRoleInfo(userId, roleId);
    }
}
